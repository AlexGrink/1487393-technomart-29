"use strict";const contactsSection=document.querySelector(".contacts"),modalMap=document.querySelector(".modal-map"),modalWriteUs=document.querySelector(".modal-writeus"),smallMap=contactsSection.querySelector(".contacts-map"),modalLogin=modalWriteUs.querySelector("[name = name]"),modalEmail=modalWriteUs.querySelector("[name = email]"),buttonModalContact=contactsSection.querySelector(".writeus-button"),modalMapClose=modalMap.querySelector(".modal-close"),writeUsClose=modalWriteUs.querySelector(".modal-close"),writeUsForm=modalWriteUs.querySelector("form"),modalTextarea=modalWriteUs.querySelector("textarea");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}smallMap.addEventListener("click",e=>{e.preventDefault(),modalMap.hidden=!1}),modalMapClose.addEventListener("click",e=>{e.preventDefault(),modalMap.hidden=!0}),window.addEventListener("keydown",function(e){"Escape"===e.key&&!1===modalMap.hidden&&(e.preventDefault(),modalMap.hidden=!0)}),buttonModalContact.addEventListener("click",e=>{e.preventDefault(),modalWriteUs.hidden=!1,storage?(modalLogin.value=localStorage.getItem("login"),modalEmail.value=localStorage.getItem("email"),modalTextarea.focus()):modalLogin.focus()}),writeUsClose.addEventListener("click",e=>{e.preventDefault(),modalWriteUs.hidden=!0,modalWriteUs.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){"Escape"===e.key&&!1===modalWriteUs.hidden&&(e.preventDefault(),modalWriteUs.hidden=!0,modalWriteUs.classList.remove("modal-error"))}),writeUsForm.addEventListener("submit",e=>{modalLogin.value&&modalEmail.value&&modalTextarea.value?isStorageSupport&&(localStorage.setItem("login",modalLogin.value),localStorage.setItem("email",modalEmail.value)):(e.preventDefault(),modalWriteUs.classList.remove("modal-error"),modalWriteUs.offsetWidth,modalWriteUs.classList.add("modal-error"))});
